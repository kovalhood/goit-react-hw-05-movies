"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[493],{305:function(e,r,t){t.r(r),t.d(r,{default:function(){return S}});var n=t(885),a=t(791),u=t(871),s=(t(87),"SearchField_form__PQ-2B"),c="SearchField_input__Q8-+I",i="SearchField_button__sspyl",o="SearchField_icon__XHZPW",h=t(222),l=t(439),f=t(184);var m=function(e){var r=(0,a.useState)(""),t=(0,n.Z)(r,2),u=t[0],m=t[1];return(0,f.jsxs)("form",{className:s,onSubmit:function(r){if(r.preventDefault(),""===u.trim())return m(""),h.Am.info("Input your search query");e.onSubmit(u),m("")},children:[(0,f.jsx)("input",{className:c,type:"text",autoComplete:"off",name:"searchQuery",placeholder:"Search movie...",value:u,onChange:function(e){m(e.currentTarget.value.toLowerCase())}}),(0,f.jsx)("button",{type:"submit",className:i,children:(0,f.jsx)("svg",{className:o,width:"16",height:"16","aria-label":"logo",children:(0,f.jsx)("use",{href:"".concat(l.Z,"#search")})})})]})},_=t(592),d=t(806),y=t(102),p=t(857);function v(e){var r=e.searchQuery,t=(0,a.useState)([]),u=(0,n.Z)(t,2),s=u[0],c=u[1];return(0,a.useEffect)((function(){""!==r&&(0,_.vw)(r).then((function(e){if(!(e.total_results>0))return c([]),h.Am.error("Sorry, there are no images matching your search query. Please try again.");c((0,p.Z)(e.results))}))}),[r]),(0,f.jsx)(d.Z,{children:(0,f.jsx)(y.Z,{data:s})})}function S(){var e,r=(0,a.useState)(""),t=(0,n.Z)(r,2),s=t[0],c=t[1],i=(0,u.s0)(),o=(0,u.TH)(),l=null!==(e=new URLSearchParams(o.search).get("query"))&&void 0!==e?e:"";return(0,a.useEffect)((function(){""!==l&&c(l)}),[l]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m,{onSubmit:function(e){if(s===e)return h.Am.info("Input new search query.");i("".concat(o.pathname,"?query=").concat(e)),c(e)}}),(0,f.jsx)(v,{searchQuery:s})]})}}}]);
//# sourceMappingURL=movies-page.49f6479e.chunk.js.map