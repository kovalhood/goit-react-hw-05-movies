"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[493],{305:function(e,r,t){t.r(r),t.d(r,{default:function(){return d}});var n=t(885),a=t(791),u=t(871),s=t(87),c="SearchField_form__PQ-2B",i="SearchField_input__Q8-+I",o="SearchField_button__sspyl",f=t(222),h=t(184);var l=function(e){var r=(0,a.useState)(""),t=(0,n.Z)(r,2),u=t[0],s=t[1];return(0,h.jsxs)("form",{className:c,onSubmit:function(r){if(r.preventDefault(),""===u.trim())return s(""),f.Am.info("Input your search query");e.onSubmit(u),s("")},children:[(0,h.jsx)("input",{className:i,type:"text",autoComplete:"off",name:"searchQuery",placeholder:"Search movie...",value:u,onChange:function(e){s(e.currentTarget.value.toLowerCase())}}),(0,h.jsx)("button",{type:"submit",className:o,children:(0,h.jsx)("i",{className:"fa fa-search"})})]})},m=t(592),_=t(806),y=t(102),p=t(857);function v(e){var r=e.searchQuery,t=(0,a.useState)([]),u=(0,n.Z)(t,2),s=u[0],c=u[1];return(0,a.useEffect)((function(){""!==r&&(0,m.vw)(r).then((function(e){if(!(e.total_results>0))return c([]),f.Am.error("Sorry, there are no images matching your search query. Please try again.");c((0,p.Z)(e.results))}))}),[r]),(0,h.jsx)(_.Z,{children:(0,h.jsx)(y.Z,{data:s})})}function d(){var e,r=(0,a.useState)(""),t=(0,n.Z)(r,2),c=t[0],i=t[1],o=(0,u.s0)(),m=(0,u.TH)(),_=null!==(e=new URLSearchParams(m.search).get("query"))&&void 0!==e?e:"";return(0,a.useEffect)((function(){""!==_&&i(_)}),[_]),(0,h.jsxs)(s.Z,{children:[(0,h.jsx)(l,{onSubmit:function(e){if(c===e)return f.Am.info("Input new search query.");o("".concat(m.pathname,"?query=").concat(e)),i(e)}}),(0,h.jsx)(v,{searchQuery:c})]})}}}]);
//# sourceMappingURL=movies-page.ed548bf8.chunk.js.map