"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[493],{305:function(e,r,t){t.r(r),t.d(r,{default:function(){return g}});var n=t(885),a=t(791),u=t(871),s=t(87),c="SearchField_form__PQ-2B",i="SearchField_input__Q8-+I",o="SearchField_button__sspyl",h="SearchField_icon__XHZPW",l=t(222),f=t(439),m=t(184);var _=function(e){var r=(0,a.useState)(""),t=(0,n.Z)(r,2),u=t[0],s=t[1];return(0,m.jsxs)("form",{className:c,onSubmit:function(r){if(r.preventDefault(),""===u.trim())return s(""),l.Am.info("Input your search query");e.onSubmit(u),s("")},children:[(0,m.jsx)("input",{className:i,type:"text",autoComplete:"off",name:"searchQuery",placeholder:"Search movie...",value:u,onChange:function(e){s(e.currentTarget.value.toLowerCase())}}),(0,m.jsx)("button",{type:"submit",className:o,children:(0,m.jsx)("svg",{className:h,width:"16",height:"16","aria-label":"logo",children:(0,m.jsx)("use",{href:"".concat(f.Z,"#search")})})})]})},d=t(592),y=t(806),p=t(102),v=t(857);function S(e){var r=e.searchQuery,t=(0,a.useState)([]),u=(0,n.Z)(t,2),s=u[0],c=u[1];return(0,a.useEffect)((function(){""!==r&&(0,d.vw)(r).then((function(e){if(!(e.total_results>0))return c([]),l.Am.error("Sorry, there are no images matching your search query. Please try again.");c((0,v.Z)(e.results))}))}),[r]),(0,m.jsx)(y.Z,{children:(0,m.jsx)(p.Z,{data:s})})}function g(){var e,r=(0,a.useState)(""),t=(0,n.Z)(r,2),c=t[0],i=t[1],o=(0,u.s0)(),h=(0,u.TH)(),f=null!==(e=new URLSearchParams(h.search).get("query"))&&void 0!==e?e:"";return(0,a.useEffect)((function(){""!==f&&i(f)}),[f]),(0,m.jsxs)(s.Z,{children:[(0,m.jsx)(_,{onSubmit:function(e){if(c===e)return l.Am.info("Input new search query.");o("".concat(h.pathname,"?query=").concat(e)),i(e)}}),(0,m.jsx)(S,{searchQuery:c})]})}}}]);
//# sourceMappingURL=movies-page.32d58889.chunk.js.map