"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[493],{305:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(885),a=r(791),u=r(871),s=r(87),c={},o=r(222),i=r(184);var f=function(e){var t=(0,a.useState)(""),r=(0,n.Z)(t,2),u=r[0],s=r[1];return(0,i.jsxs)("form",{className:c.form,onSubmit:function(t){if(t.preventDefault(),""===u.trim())return s(""),o.Am.info("Input your search query");e.onSubmit(u),s("")},children:[(0,i.jsx)("input",{className:c.input,type:"text",autoComplete:"off",name:"searchQuery",placeholder:"Search images and photos",value:u,onChange:function(e){s(e.currentTarget.value.toLowerCase())}}),(0,i.jsx)("button",{type:"submit",className:c.button,children:(0,i.jsx)("i",{className:"fa fa-search"})})]})},h=r(592),l=r(806),m=r(102),p=r(857);function y(e){var t=e.searchQuery,r=(0,a.useState)([]),u=(0,n.Z)(r,2),s=u[0],c=u[1];return(0,a.useEffect)((function(){""!==t&&(0,h.vw)(t).then((function(e){if(!(e.total_results>0))return c([]),o.Am.error("Sorry, there are no images matching your search query. Please try again.");c((0,p.Z)(e.results))}))}),[t]),(0,i.jsx)(l.Z,{children:(0,i.jsx)(m.Z,{data:s})})}function v(){var e,t=(0,a.useState)(""),r=(0,n.Z)(t,2),c=r[0],h=r[1],l=(0,u.s0)(),m=(0,u.TH)(),p=null!==(e=new URLSearchParams(m.search).get("query"))&&void 0!==e?e:"";return(0,a.useEffect)((function(){""!==p&&h(p)}),[p]),(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(f,{onSubmit:function(e){if(c===e)return o.Am.info("Input new search query.");l("".concat(m.pathname,"?query=").concat(e)),h(e)}}),(0,i.jsx)(y,{searchQuery:c})]})}}}]);
//# sourceMappingURL=movies-page.b20bcd9a.chunk.js.map