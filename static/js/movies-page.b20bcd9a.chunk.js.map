{"version":3,"file":"static/js/movies-page.b20bcd9a.chunk.js","mappings":"0NACA,K,kBC0CA,MAvCA,SAAqBA,GACjB,OAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAqBA,OAAO,kBAAMC,UAAWC,EAAAA,KAAQC,SAfX,SAAAC,GAGjB,GAFAA,EAAMC,iBAEqB,KAAvBN,EAAYO,OAIZ,OAFAN,EAAe,IAERO,EAAAA,GAAAA,KAAW,2BAGtBV,EAAMM,SAASJ,GAEfC,EAAe,KAGZ,WACH,kBACIC,UAAWC,EAAAA,MACXM,KAAK,OACLC,aAAa,MACbC,KAAK,cACLC,YAAY,2BACZC,MAAOb,EACPc,SA3BwB,SAAAT,GAC5BJ,EAAeI,EAAMU,cAAcF,MAAMG,mBA6BzC,mBAAQP,KAAK,SAASP,UAAWC,EAAAA,OAAjC,UACI,cAAGD,UAAU,uB,oCC7BV,SAASe,EAAT,GAA0C,IAAfjB,EAAc,EAAdA,YACtC,GAA4BD,EAAAA,EAAAA,UAAS,IAArC,eAAOmB,EAAP,KAAeC,EAAf,KAsBA,OApBAC,EAAAA,EAAAA,YAAU,WACc,KAAhBpB,IAIJqB,EAAAA,EAAAA,IAAYrB,GACPsB,MAAK,SAAAC,GACF,KAAIA,EAAKC,cAAgB,GAMrB,OADAL,EAAU,IACHX,EAAAA,GAAAA,MAAY,4EALnBW,GAAUM,EAAAA,EAAAA,GAAeF,EAAKG,eAQ3C,CAAC1B,KAIG,SAAC2B,EAAA,EAAD,WACH,SAACC,EAAA,EAAD,CAAgBL,KAAOL,MCzBhB,SAASW,IAAc,IAAD,EACjC,GAAsC9B,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAGM6B,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,EAAK,UAAG,IAAIC,gBAAgBH,EAASI,QAAQC,IAAI,gBAA5C,QAAwD,GAoBnE,OANAjB,EAAAA,EAAAA,YAAU,WACQ,KAAVc,GACAjC,EAAeiC,KAEpB,CAACA,KAEG,UAACI,EAAA,EAAD,YACH,SAAC,EAAD,CAAalC,SAlBI,SAAAmC,GACjB,GAAIvC,IAAgBuC,EAChB,OAAO/B,EAAAA,GAAAA,KAAW,2BAGtBsB,EAAS,GAAD,OAAIE,EAASQ,SAAb,kBAA+BD,IAEvCtC,EAAesC,OAYf,SAACtB,EAAD,CAAkBjB,YAAcA","sources":["components/MoviesPage/SearchField/SearchField.module.css","components/MoviesPage/SearchField/SearchField.jsx","components/MoviesPage/MoviesSearchList/MoviesSearchList.jsx","components/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { useState } from 'react';\r\nimport s from './SearchField.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction SearchField(props) {\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    const handleSearchQueryChange = event => {\r\n        setSearchQuery(event.currentTarget.value.toLowerCase());\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if (searchQuery.trim() === '') {\r\n            //Setting searchQuery state '' in case query got spaces\r\n            setSearchQuery('');\r\n\r\n            return toast.info(\"Input your search query\");\r\n        }\r\n\r\n        props.onSubmit(searchQuery);\r\n        \r\n        setSearchQuery('');\r\n    }\r\n\r\n    return <form className={s.form} onSubmit={handleSubmit}>\r\n        <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            name=\"searchQuery\"\r\n            placeholder=\"Search images and photos\"\r\n            value={searchQuery}\r\n            onChange={handleSearchQueryChange}\r\n        />\r\n        \r\n        <button type=\"submit\" className={s.button}>\r\n            <i className=\"fa fa-search\"></i>\r\n        </button>\r\n    </form>\r\n}\r\n\r\nexport default SearchField;","import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\nimport { fetchMovies } from 'services/movies-api';\r\nimport MoviesList from 'components/MoviesList';\r\nimport MoviesListItem from '../../MoviesListItem';\r\nimport normalizedData from 'services/normalized-data';\r\nimport s from './MoviesSearchList.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function MoviesSearchList({searchQuery}) {\r\n    const [movies, setMovies] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (searchQuery === '') {\r\n            return;\r\n        }\r\n\r\n        fetchMovies(searchQuery)\r\n            .then(data => {\r\n                if (data.total_results > 0) {\r\n                    setMovies(normalizedData(data.results));\r\n                }\r\n\r\n                else {\r\n                    setMovies([]);\r\n                    return toast.error(\"Sorry, there are no images matching your search query. Please try again.\");\r\n                }\r\n            });\r\n    }, [searchQuery])\r\n\r\n\r\n        \r\n    return <MoviesList>\r\n        <MoviesListItem data={ movies }/>\r\n    </MoviesList>\r\n}\r\n\r\nMoviesSearchList.propTypes = {\r\n    searchQuery: PropTypes.string,\r\n}","import { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport Container from 'components/Container';\r\nimport SearchField from './SearchField';\r\nimport MoviesSearchList from './MoviesSearchList';\r\nimport { toast } from 'react-toastify';\r\nimport s from './MoviesPage.module.css';\r\n\r\nexport default function MoviesPage() {\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    // Catching search query from address bar\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const query = new URLSearchParams(location.search).get('query') ?? '';\r\n\r\n    // Catching search query from search bar input field\r\n    const handleSubmit = searchQueryValue => {\r\n        if (searchQuery === searchQueryValue) {\r\n            return toast.info(\"Input new search query.\");\r\n        }\r\n\r\n        navigate(`${location.pathname}?query=${searchQueryValue}`);\r\n\r\n        setSearchQuery(searchQueryValue);\r\n    }\r\n\r\n    // Setting search query from address bar\r\n    useEffect(() => {\r\n        if (query !== '') {\r\n            setSearchQuery(query);\r\n        }\r\n    }, [query])\r\n\r\n    return <Container>\r\n        <SearchField onSubmit={handleSubmit}/>\r\n        <MoviesSearchList searchQuery={ searchQuery }/>\r\n    </Container>\r\n}\r\n"],"names":["props","useState","searchQuery","setSearchQuery","className","s","onSubmit","event","preventDefault","trim","toast","type","autoComplete","name","placeholder","value","onChange","currentTarget","toLowerCase","MoviesSearchList","movies","setMovies","useEffect","fetchMovies","then","data","total_results","normalizedData","results","MoviesList","MoviesListItem","MoviesPage","navigate","useNavigate","location","useLocation","query","URLSearchParams","search","get","Container","searchQueryValue","pathname"],"sourceRoot":""}